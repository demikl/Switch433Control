---
substitutions:
  devicename: esp32-rf
  upper_devicenamp: ESP32 RF
  rf433_tx_pin: GPIO32
  rf433_rx_pin: GPIO22
  bme280_i2c_sda: GPIO18
  bme280_i2c_scl: GPIO19
  buzzer_pwm: GPIO2
  buzzer_platform: ledc

packages:
  device_base: !include common/device_base.yaml
  device_esp32: !include common/device_esp32.yaml
  rf433: !include common/rf433.yaml
  bme280: !include common/bme280.yaml
  buzzer: !include common/buzzer.yaml

wifi:
  # manual_ip:
  #   # pour une connection rapide, et pour que le conteneur docker esphome puisse trouver l'ESP sans mDNS
  #   static_ip: 192.168.1.xxx
  #   gateway: 192.168.1.1
  #   subnet: 255.255.255.0

## Device-specific

output:
  - platform: ledc
    id: led_pin
    pin: GPIO15

light:
  - platform: monochromatic
    output: led_pin
    id: led
    name: "LED"
    gamma_correct: 0
    effects:
      - pulse
      - automation:
          name: Sleep pattern
          sequence:
            - light.turn_on:
                id: led
                brightness: 100%
                transition_length: 2s
            - delay: 2.5s
            - light.turn_on:
                id: led
                brightness: 1%
                transition_length: 4s
            - delay: 4.5s
